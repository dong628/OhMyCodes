from PIL import Image

colors = [\
(0, 0, 0)\
,(255, 255, 255)\
,(170, 170, 170)\
,(85, 85, 85)\
,(254, 211, 199)\
,(255, 196, 206)\
,(250, 172, 142)\
,(255, 139, 131)\
,(244, 67, 54)\
,(233, 30, 99)\
,(226, 102, 158)\
,(156, 39, 176)\
,(103, 58, 183)\
,(63, 81, 181)\
,(0, 70, 112)\
,(5, 113, 151)\
,(33, 150, 243)\
,(0, 188, 212)\
,(59, 229, 219)\
,(151, 253, 220)\
,(22, 115, 0)\
,(55, 169, 60)\
,(137, 230, 66)\
,(215, 255, 7)\
,(255, 246, 209)\
,(248, 203, 140)\
,(255, 235, 59)\
,(255, 193, 7)\
,(255, 152, 0)\
,(255, 87, 34)\
,(184, 63, 39)\
,(121, 85, 72)\
]

im = Image.open("pic.png")
imn = Image.new(im.mode, im.size)
f = open("pic.txt", 'w');
minn=99999999999;

for i in range(im.size[0]):
	for j in range(im.size[1]):
		pix=im.getpixel((i, j))
		for x in colors:
			val = (x[0]-pix[0])**2+(x[1]-pix[1])**2+(x[2]-pix[2])**2;
			if(val < minn):
				minn = val
				col = colors.index(x)
		minn=999999999;
		imn.putpixel((i, j), colors[col]);
		f.write(str(col)+' ');
	f.write('\n');

imn.show()
f.close()
